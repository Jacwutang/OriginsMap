<!DOCTYPE html>
<html lang="en">
<head>

  <title>Mapping with D3</title>
	<script src="http://d3js.org/d3.v4.min.js" charset="utf-8"></script>
  <script src="http://d3js.org/topojson.v1.min.js"></script>
  <script src="US.json"></script>



  <style>
  svg{
    /*background: red;*/
    /*text-align: center;
    margin-left: auto;
    margin-right: auto;*/

  }

  .county{
    fill: #cccccc;
    stroke: 333333;

  }

  body{
    text-align: center;
    margin-left: auto;
    margin-right: auto;
  }




  .selected{
    fill: yellow;
  }

  </style>

</head>
<body>
	<!-- Page elements and content go here. -->
  <h1> Hello Worldsss </h1>

  <script>
		// Our D3 code will go here.

    // var margin = {top: 0, left: 0, right: 0, bottom: 0},
    // height = 400 - margin.top - margin.bottom,
    // width = 800 - margin.left - margin.right;


    var width = 850;
    var height = 900;

    var svg = d3.select("body").append("svg")
      .attr("width", width )
      .attr("height", height)
      .append("g"); // add a 'g' children tag


    var projection = d3.geoAlbersUsa()
    .translate([width/2, height/2])
    .scale(1000);


    var path = d3.geoPath()
    .projection(projection);

    d3.json("US.json", function(error, US) {
      if (error) return console.error(error);
        d3.csv("players_2013-12-12.csv",function(error, players){
          var counties = topojson.feature(US,US.objects.counties).features; //returns counties array
          console.log(counties);
          console.log(players);

          svg.selectAll(".county")
          .data(counties)
          .enter() // for each
          .append("path") // each item gets "path"
          .attr("class", "county")
          //Make a projection first
          .attr("d",path)
          .on("mouseover", function(d){
            d3.select(this).classed("selected",true)
          })
          .on("mouseout", function(d){
            d3.select(this).classed("selected",false)
          })

        })
    })

    </script>
</body>
</html>
